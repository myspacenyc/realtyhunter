<div class="row">
  <div class="col-md-6 col-md-offset-3">
    <div class="page-header">
      <div class="row">
        <div class="col-xs-12">
          <h1>Log in</h1>
        </div>
      </div>
    </div>

    <%= form_for(:session, url: login_path, html: { id: "login_form" }) do |f| %>
      <div class="row">
        <div class="col-xs-12">
          <%= f.label :email %>
          <%= f.text_field :email, class: 'form-control' %>
        </div>
      </div>
      <br>
      <div class="row">
        <div class="col-xs-12">
          <%= f.label :password %>
          <%= f.password_field :password, class: 'form-control' %>
          <%= hidden_field_tag "latlong"  %>
        </div>
      </div>
      <br>
      <div class="row">
        <div class="col-xs-3">
          <%= f.submit "Log in", class: "btn btn-warning" %>
        </div>
        <div class="col-xs-9">
          <div class="checkbox checkbox-warning inline">
            <%= f.check_box :remember_me, checked: true %>
            <%= f.label "remember_me", 'Remember me on this computer' %>
          </div>
        </div>
      </div>
      <br>
      <div class="row">
        <div class="col-xs-12">
          <%= link_to "Sign in with Google", '/auth/google_oauth2', method: :get   %>
        </div>
      </div><br>
      <%= link_to "(forgot password)", new_password_reset_path %>
    <% end %>
  </div>
</div>
<script>
  var x = document.getElementById("latlong");
  function getLocation() {
      if (navigator.geolocation) {
          navigator.geolocation.getCurrentPosition(showPosition);
      } else {
          x.innerHTML = "Geolocation is not supported by this browser.";
      }
  }
  function showPosition(position) {
      x.value = [position.coords.latitude, position.coords.longitude]; 
  }
</script>
